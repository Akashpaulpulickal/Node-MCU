# Import necessary libraries
import smbus
import time

# Define the I2C bus
bus = smbus.SMBus(1)
ADC_ADDRESS = 0x48  # Address of the ADC

def read_adc(channel):
    bus.write_byte(ADC_ADDRESS, channel)
    value = bus.read_byte(ADC_ADDRESS)
    return value

try:
    while True:
        soil_moisture_value = read_adc(0)  # Read from channel 0
        print(f"Soil moisture value: {soil_moisture_value}")
        
        # Wait for a short period before checking again
        time.sleep(1)

except KeyboardInterrupt:
    print("Program terminated")

finally:
    # Clean up resources
    bus.close()

# Connections:
# - VCC pin of the soil moisture sensor to the 3.3V or 5V pin of the Raspberry Pi.
# - GND pin of the soil moisture sensor to the GND pin of the Raspberry Pi.
# - AO (Analog Output) pin of the soil moisture sensor to an ADC (Analog-to-Digital Converter) input pin.
# - Connect the ADC to the Raspberry Pi using the I2C interface.
